(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["paraIndex"],{"0957":function(t,e,a){"use strict";a("b7d9")},"2e6a":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"preview-box"},[a("div",{staticClass:"content"},t._l(t.paraList,(function(e,i){return a("div",{key:i,staticStyle:{"margin-bottom":"18px"}},[e.title?a("div",{staticClass:"title"},[t._v("\n         "+t._s(e.title)+"\n        ")]):t._e(),t._l(e.juzi,(function(e,i){return a("div",{key:i,staticClass:"para",on:{touchstart:function(a){return t.getTouchStart(e)},touchend:t.getTouchEnd}},t._l(e.sence,(function(e,i){return a("span",{key:i,class:e.tid?"wordhavamean":"word",on:{click:function(a){return t.danciClick(e)}}},[t._v("\n          "+t._s(e.w)+"\n        ")])})),0)})),e.mean?a("span",{on:{click:function(a){return t.paraClick(e)}}},[t._v("整段翻译")]):t._e()],2)})),0),0==t.paraList.length?a("p",{staticStyle:{"text-align":"center","margin-top":"10px"}},[t._v(" 暂无内容 ")]):t._e(),a("Drawer",{attrs:{closable:!1,placement:"bottom"},model:{value:t.drawerShow,callback:function(e){t.drawerShow=e},expression:"drawerShow"}},[a("span",{staticClass:"word-title"},[t._v(" "+t._s(t.word.w))]),a("br"),a("span",{staticClass:"word-mean",attrs:{type:"textarea"}},[t._v(t._s(t.wordMean.mean)+" ")])]),a("Drawer",{attrs:{closable:!1,placement:"bottom"},model:{value:t.senseDrawerShow,callback:function(e){t.senseDrawerShow=e},expression:"senseDrawerShow"}},[t._l(t.longClicksence.sence,(function(e,i){return a("span",{key:i,staticClass:"word-title"},[t._v(" "+t._s(e.w)+" ")])})),a("br"),a("span",{staticClass:"word-mean",attrs:{type:"textarea"}},[t._v(t._s(t.longClicksence.mea)+" ")])],2),a("Drawer",{attrs:{closable:!1,placement:"bottom"},model:{value:t.paraDrawerShow,callback:function(e){t.paraDrawerShow=e},expression:"paraDrawerShow"}},[a("span",{staticClass:"word-mean",attrs:{type:"textarea"}},[t._v(t._s(t.paraClickObj.mean)+" ")])]),a("Drawer",{attrs:{closable:!1,placement:"bottom"},model:{value:t.titleDrawerShow,callback:function(e){t.titleDrawerShow=e},expression:"titleDrawerShow"}},[a("Input",{staticClass:"word-mean",attrs:{type:"textarea",placeholder:"标题"},model:{value:t.titleObj.title,callback:function(e){t.$set(t.titleObj,"title",e)},expression:"titleObj.title"}}),a("Button",{staticStyle:{"margin-top":"5px"},attrs:{type:"primary"},on:{click:t.saveParaTranslateClick}},[t._v("保存")])],1)],1)},s=[],n=a("8c99"),o=a("4b1c"),r=a("88bd"),l=a("e7c9"),d=a("9d21"),c={components:{Drawer:d["a"],Input:l["a"],Button:r["a"],Icon:o["a"]},data:function(){return{titleDrawerShow:!1,titleObj:{},paraDrawerShow:!1,paraClickObj:{},senseDrawerShow:!1,longClicksence:{},menuid:"",word:{},wordMean:{},wordMeanList:{},drawerShow:!1,paraList:[],para:[[[{w:"This",tid:"1"},{w:"is",tid:"1"},{w:"one",tid:"1"},{w:"juzi",tid:"1"}],[{w:"This",tid:"1"},{w:"is",tid:"1"},{w:"two",tid:"1"},{w:"juzi",tid:"1"}],[{w:"This",tid:"1"},{w:"is",tid:"1"},{w:"three",tid:"1"},{w:"juzi",tid:"1"}]],[],[]],wordList:[[{w:"Today",tid:"1"},{w:"is",tid:"1"},{w:"World",tid:"1"},{w:"Tourism",tid:"1"},{w:"Day",tid:"1"},{w:"."}],[{w:"Travel",tid:"2"},{w:"has"},{w:"been"},{w:"said"},{w:"to"},{w:"broaden"},{w:"the"},{w:"mind"},{w:"\n"},{w:"e"},{w:"the"},{w:"world"},{w:"and"}]],resoucesName:""}},methods:{addTitleClick:function(t){this.titleDrawerShow=!0,this.titleObj=t},saveParaTranslateClick:function(){this.httpPost("updateWordMean",{menuid:this.menuid,para:JSON.stringify(this.paraList),word:JSON.stringify(this.wordMeanList)},(function(t){t=t.data,"success"==t.msg&&n["a"].success("保存成功")}))},saveSenseTranslateClick:function(){console.log(this.longClicksence),this.httpPost("updateWordMean",{menuid:this.menuid,para:JSON.stringify(this.paraList),word:JSON.stringify(this.wordMeanList)},(function(t){t=t.data,"success"==t.msg&&n["a"].success("保存成功")}))},saveTranslateClick:function(){if(this.wordMean.word=this.word.w,console.log("this.wordMeanList[this.word.tid]",this.wordMeanList[this.word.tid]),"undefined"==typeof this.wordMeanList[this.word.tid]){console.log("之前没有翻译");var t=this.menuid+Math.round(new Date);console.log(" tid",t),this.word.tid=t,this.wordMeanList[t]={word:this.word.w,mean:this.wordMean.mean}}else console.log("之前有翻译");this.httpPost("updateWordMean",{menuid:this.menuid,para:JSON.stringify(this.paraList),word:JSON.stringify(this.wordMeanList)},(function(t){t=t.data,"success"==t.msg&&n["a"].success("保存成功")}))},paraClick:function(t){console.log(t),this.paraDrawerShow=!0,this.paraClickObj=t},danciClick:function(t){this.drawerShow=!0,this.word=t,this.wordMeanList[this.word.tid]?this.wordMean=this.wordMeanList[this.word.tid]:this.wordMean={}},getTouchStart:function(t){var e=this;clearTimeout(this.sufu),this.sufu=setTimeout((function(){e.senseDrawerShow=!0,e.longClicksence=t}),500)},getTouchEnd:function(){clearTimeout(this.sufu)},select:function(t){console.log(t)},getData:function(){var t=this;this.httpPost("webGetBookContent",{menuid:this.menuid},(function(e){e=e.data,e.para&&(t.paraList=JSON.parse(e.para),t.wordMeanList=JSON.parse(e.word))}))}},created:function(){this.resoucesName=this.$route.resoucesName,this.menuid=this.$route.query.menuid,this.getData()}},m=c,h=(a("9d1b"),a("cba8")),u=Object(h["a"])(m,i,s,!1,null,null,null);e["default"]=u.exports},"4aa8":function(t,e,a){t.exports=a.p+"img/ls1.22db3eed.webp"},"55c3":function(t,e,a){t.exports=a.p+"img/ls3.05a2a336.webp"},5712:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAAAwCAMAAADHAb9OAAAC7lBMVEVHcExmZmZra2tnZ2dmZmZwcHBmZmZmZmaqqqr///+AgICAgIBtbW2AgIBmZmaAgIBoaGhtbW1paWlmZmZmZmZra2tsbGxmZmZoaGhmZmZnZ2dnZ2dnZ2dnZ2dnZ2dmZmZmZmZnZ2dnZ2dmZmZnZ2doaGhoaGhmZmZmZmZ0dHRnZ2doaGhmZmZmZmZnZ2dnZ2dnZ2dxcXFmZmZoaGhnZ2d2dnZmZmZnZ2dmZmZmZmZnZ2dqampmZmZmZmZnZ2doaGhnZ2dmZmZnZ2dpaWlnZ2dpaWloaGhnZ2dmZmZnZ2doaGhmZmZnZ2dnZ2doaGhvb29mZmZpaWlmZmZmZmZnZ2dxcXFmZmZmZmZnZ2dnZ2dnZ2dnZ2dnZ2doaGhnZ2dmZmZmZmZnZ2dmZmZnZ2dtbW1nZ2dnZ2dmZmZmZmZmZmZmZmZqampmZmZmZmZmZmZmZmZoaGhnZ2dnZ2dmZmZnZ2dmZmZqampoaGhnZ2dmZmZmZmZnZ2doaGhoaGhmZmZnZ2dnZ2dmZmZnZ2doaGhnZ2dnZ2dqampmZmZmZmZmZmZoaGhoaGhpaWloaGhtbW1mZmZmZmZoaGhoaGhmZmZnZ2dnZ2dmZmZqampmZmZnZ2doaGhnZ2dmZmZnZ2dnZ2dmZmZnZ2dmZmZmZmZnZ2dqampnZ2dnZ2dnZ2dmZmZnZ2dmZmZra2tnZ2dmZmZmZmZnZ2dmZmZpaWlnZ2dnZ2dpaWloaGhmZmZpaWlmZmZnZ2dmZmZnZ2dnZ2dmZmZnZ2dmZmZnZ2dnZ2dmZmZnZ2dnZ2dpaWlmZmZmZmZmZmZoaGhmZmZmZmZra2tmZmZnZ2dnZ2dnZ2dqampmZmZnZ2dnZ2dnZ2dnZ2dpaWlnZ2dnZ2doaGhqampmZmZnZ2dnZ2dmZmZnZ2doaGhnZ2dnZ2dnZ2dnZ2dpaWlmZmZoaGhqampmZmZmZmZmZmZnZ2doaGhpaWlsbGxmZmZmZmZnZ2dnZ2doaGhnZ2dnZ2dnZ2dmZmbdQF+VAAAA+XRSTlMA6hP9BRD+/AMBBgQOAnUIYhw/afofIS1M9/bJcvGph6JFTaolMYAU9Au1IDelbdrTEttCrQ2njx5kgSTWbvhspA+XRL9JFvMKvVbSfmZHF8M9eEH7CeiTVEjE1c42uLbh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"},"68ae":function(t,e,a){},"88bd":function(t,e,a){"use strict";var i=a("8fc7"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.classes},[t._t("default")],2)},n=[],o=a("e4a4");const r="ivu-btn-group";var l={name:"ButtonGroup",props:{size:{validator(t){return Object(o["j"])(t,["small","large","default"])},default(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},shape:{validator(t){return Object(o["j"])(t,["circle","circle-outline"])}},vertical:{type:Boolean,default:!1}},computed:{classes(){return[""+r,{[`${r}-${this.size}`]:!!this.size,[`${r}-${this.shape}`]:!!this.shape,[r+"-vertical"]:this.vertical}]}}},d=l,c=a("cba8"),m=Object(c["a"])(d,s,n,!1,null,null,null),h=m.exports;i["a"].Group=h;e["a"]=i["a"]},"8c29":function(t,e,a){t.exports=a.p+"img/ls2.580247ec.webp"},9195:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rescource-root"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[t._v(t._s(t.title))])]),0==t.fileType?a("div",{staticClass:"audio-box"},[a("audio",{attrs:{src:t.dataUrl,controls:""}},[t._v("\n      你的浏览器不支持audio标签\n    ")])]):t._e(),1==t.fileType?a("div",{staticClass:"audio-box"},[a("video",{staticStyle:{height:"200px",width:"100%"},attrs:{src:t.dataUrl,controls:"controls"}})]):t._e(),t._m(0),a("div",{staticClass:"video-content"},t._l(t.studentVideo,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"video-box"},[a("img",{staticClass:"video-img",attrs:{src:e.src}}),a("span",[t._v(t._s(e.title))])])])})),0),t._m(1),a("div",{staticClass:"video-content"},t._l(t.ffVVideo,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"video-box"},[a("img",{staticClass:"video-img",attrs:{src:e.src}}),a("span",[t._v(t._s(e.title))])])])})),0),t._m(2),t._l(t.commentList,(function(e,i){return a("div",{key:i,staticClass:"comment-item"},[a("div",{staticClass:"item-top"},[a("span",[t._v(t._s(e.userid))]),a("span",[t._v(t._s(e.creatTime))])]),a("span",[t._v(t._s(e.comment))])])})),a("div",{staticClass:"bottom-input"},[a("Input",{attrs:{size:"large",placeholder:"说点什么..."},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),a("Button",{staticStyle:{height:"40px"},attrs:{type:"primary"},on:{click:t.sendComment}},[t._v("发送")])],1),""==t.fileName?a("div",[a("span",[t._v("Error")])]):t._e(),a("Modal",{attrs:{"mask-closable":!1,closable:!1},model:{value:t.loginModal,callback:function(e){t.loginModal=e},expression:"loginModal"}},[a("div",{staticClass:"loginmodal-box"},[a("div",[a("span",[t._v("手机号：")]),a("Input",{staticStyle:{width:"200px"},attrs:{maxlength:"11",placeholder:"请输入"},model:{value:t.phoneNumber,callback:function(e){t.phoneNumber=e},expression:"phoneNumber"}})],1),a("div",{staticClass:"yzm-box",staticStyle:{"margin-top":"8px"}},[a("div",{staticStyle:{display:"inline-block"}},[a("span",[t._v("验证码：")]),a("Input",{staticStyle:{width:"70px"},attrs:{maxlength:"4",placeholder:""},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),a("Button",{staticStyle:{"margin-left":"27px",width:"100px"},attrs:{type:"primary",disabled:t.sendCodedisabled},on:{click:t.getCode}},[t._v(t._s(t.sendCodeText))])],1)]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:t.onLogin}},[t._v("登录")])],1)])],2)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"talk-box"},[a("span",{staticClass:"talk-title"},[t._v("优秀学生作品")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"talk-box"},[a("span",{staticClass:"talk-title"},[t._v("相关推荐内容")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"talk-box"},[a("span",{staticClass:"talk-title"},[t._v("评论区")])])}],n=(a("a450"),a("8c99")),o=a("e7c9"),r=a("88bd"),l=a("7c0d"),d=a("4aa8"),c=a.n(d),m=a("8c29"),h=a.n(m),u=a("55c3"),p=a.n(u),Z=a("e197"),w=a.n(Z),f=a("a1e0"),b=a.n(f),g={components:{Modal:l["a"],Button:r["a"],Input:o["a"]},data:function(){return{studentVideo:[{src:c.a,title:"崂山文化（一）"},{src:h.a,title:"崂山文化（二）"},{src:p.a,title:"崂山文化（三）"}],ffVVideo:[{src:w.a,title:"崂山文化（四）"},{src:b.a,title:"崂山文化（五）"}],commentList:[],comment:"",sendCodedisabled:!1,sendCodeText:"发送验证码",time:60,loginModal:!1,dataUrl:"",fileName:"",phoneNumber:"",code:"",title:"",fileType:0,rescourceID:""}},created:function(){this.fileName=this.$route.query.fileName,-1!=this.fileName.indexOf(".mp3")?this.fileType=0:-1!=this.fileName.indexOf(".mp4")&&(this.fileType=1),"true"==localStorage.getItem("qr_login_state")?this.getDetail():this.loginModal=!0},methods:{sendComment:function(){var t=this;""!=this.comment?this.httpPost("submitcomment",{comment:this.comment,rescourceID:this.rescourceID,user:localStorage.getItem("qr_login_token")},(function(e){e=e.data,"0"==e.code&&(n["a"].success("评论成功"),t.comment="")})):n["a"].error("请填写内容")},getComment:function(){var t=this;this.httpPost("getcomment",{rescourceID:this.rescourceID,userid:localStorage.getItem("qr_login_token")},(function(e){e=e.data,t.commentList=e.list}))},getDetail:function(){var t=this;this.httpPost("getaliyunurl",{fileName:this.fileName,user:localStorage.getItem("qr_login_token")},(function(e){e=e.data,console.log("getaliyunurl ",e),t.dataUrl=e.url,t.title=e.name,t.rescourceID=e.rescourceID,t.getComment()}))},getCode:function(){var t=this;""==this.phoneNumber||this.phoneNumber.length<11?n["a"].error("请填写手机号"):this.httpPost("sendMsg",{phoneNumber:this.phoneNumber},(function(e){if(e=e.data,console.log("res:",e),"0"==e.code){n["a"].success("发送成功"),t.sendCodedisabled=!0;var a=setInterval((function(){0==t.time?(clearInterval(a),t.sendCodedisabled=!1,t.time=60,t.sendCodeText="发送验证码"):t.sendCodeText=" "+t.time--+" s"}),1e3)}else n["a"].error("验证码发送失败，请联系系统管理员")}))},onLogin:function(){var t=this;""!=this.phoneNumber?""!=this.code?this.httpPost("codeplatformlogin",{phoneNumber:this.phoneNumber,code:this.code},(function(e){e=e.data,"200"==e.code?(n["a"].success("登录成功！"),t.loginModal=!1,localStorage.setItem("qr_login_state",!0),localStorage.setItem("qr_login_token",e.token),t.getDetail()):n["a"].error(e.msg)})):n["a"].error("请填写验证码"):n["a"].error("请填写手机号")}}},v=g,y=(a("0957"),a("cba8")),x=Object(y["a"])(v,i,s,!1,null,null,null);e["default"]=x.exports},9207:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAAAwCAMAAADHAb9OAAAC7lBMVEVHcExra2tmZmZra2uqqqpnZ2dmZmZmZmZmZmb///9tbW2AgIBoaGhwcHCAgIBmZmaAgIBmZmZsbGxmZmZpaWlnZ2eAgIBmZmZoaGhmZmZmZmZnZ2doaGhnZ2dnZ2dnZ2dmZmZnZ2doaGhpaWloaGhnZ2doaGhmZmZoaGhnZ2dmZmZmZmZnZ2dtbW1oaGhnZ2dnZ2dmZmZmZmZnZ2dmZmZqampnZ2d2dnZmZmZmZmZpaWlmZmZmZmZmZmZqampmZmZnZ2dmZmZpaWlnZ2dnZ2dmZmZnZ2dmZmZoaGhnZ2doaGhpaWlmZmZmZmZ0dHRmZmZoaGhtbW1nZ2dvb29nZ2dxcXFmZmZmZmZpaWlnZ2dnZ2dnZ2dnZ2dtbW1xcXFmZmZmZmZqampnZ2dnZ2dmZmZnZ2dmZmZnZ2dmZmZnZ2dmZmZmZmZnZ2dmZmZnZ2dnZ2dpaWlnZ2dnZ2dnZ2dnZ2dnZ2dmZmZpaWlmZmZqampnZ2dnZ2dmZmZqampmZmZmZmZmZmZmZmZnZ2dnZ2doaGhoaGhmZmZnZ2dnZ2doaGhoaGhmZmZoaGhmZmZmZmZoaGhnZ2dnZ2dnZ2doaGhmZmZoaGhmZmZmZmZnZ2dnZ2dnZ2dnZ2dqampmZmZnZ2dnZ2dmZmZmZmZmZmZnZ2dmZmZra2tmZmZmZmZnZ2dnZ2dmZmZmZmZmZmZmZmZoaGhoaGhnZ2dnZ2doaGhnZ2dmZmZmZmZnZ2dmZmZqampnZ2dnZ2dmZmZoaGhnZ2dnZ2dmZmZnZ2dnZ2dnZ2dnZ2dmZmZnZ2dnZ2dra2tmZmZoaGhoaGhmZmZnZ2dmZmZnZ2dpaWlnZ2dmZmZnZ2dmZmZnZ2dqampnZ2dmZmZnZ2dnZ2dpaWlpaWlnZ2dnZ2doaGhqampnZ2dnZ2doaGhmZmZnZ2dnZ2dnZ2dnZ2doaGhmZmZmZmZmZmZnZ2dmZmZmZmZnZ2dpaWlsbGxoaGhmZmZmZmZoaGhnZ2dnZ2dnZ2dmZmbKJtHXAAAA+XRSTlMAE/ofA/3+/AUBDgJiEAZ1CPch6j+1BIdWN2lyQsnxqaJFbBEWJUcKgJ6lLfMcTPZUS+PT2x2tDaqnLnOWZCTWgRRJ+KT0vw8xvSA90sMLk2AHQxdICehQJ7zVztoVErbh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"},"9d1b":function(t,e,a){"use strict";a("a1f3")},"9d21":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}],attrs:{"data-transfer":t.transfer}},[a("transition",{attrs:{name:"fade"}},[t.mask?a("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],class:t.maskClasses,style:t.maskStyle,on:{click:t.handleMask}}):t._e()]),a("div",{class:t.wrapClasses,on:{click:t.handleWrapClick}},[a("transition",{attrs:{name:t.transitionName}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],class:t.classes,style:t.mainStyles},[a("div",{ref:"content",class:t.contentClasses},[t.closable?a("a",{staticClass:"ivu-drawer-close",on:{click:t.close}},[t._t("close",(function(){return[a("Icon",{attrs:{type:"ios-close"}})]}))],2):t._e(),t.showHead?a("div",{class:[t.prefixCls+"-header"]},[t._t("header",(function(){return[a("div",{class:[t.prefixCls+"-header-inner"]},[t._v(t._s(t.title))])]}))],2):t._e(),a("div",{class:[t.prefixCls+"-body"],style:t.styles},[t._t("default")],2)]),!t.draggable||"left"!==t.placement&&"right"!==t.placement?t._e():a("div",{staticClass:"ivu-drawer-drag",class:"ivu-drawer-drag-"+t.placement,on:{mousedown:t.handleTriggerMousedown}},[t._t("trigger",(function(){return[a("div",{staticClass:"ivu-drawer-drag-move-trigger"},[a("div",{staticClass:"ivu-drawer-drag-move-trigger-point"},[a("i"),a("i"),a("i"),a("i"),a("i")])])]}))],2)])])],1)],1)},s=[],n=a("4b1c"),o=a("e4a4"),r=a("a8c5"),l=a("ce17"),d=a("3178"),c=a("d4e6");const m="ivu-drawer";var h={name:"Drawer",mixins:[l["a"],d["a"]],components:{Icon:n["a"]},directives:{TransferDom:r["a"]},props:{value:{type:Boolean,default:!1},title:{type:String},width:{type:[Number,String],default:256},height:{type:[Number,String],default:256},closable:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},mask:{type:Boolean,default:!0},maskStyle:{type:Object},styles:{type:Object},scrollable:{type:Boolean,default:!1},placement:{validator(t){return Object(o["j"])(t,["left","right","top","bottom"])},default:"right"},zIndex:{type:Number,default:1e3},transfer:{type:Boolean,default(){return!this.$IVIEW||""===this.$IVIEW.transfer||this.$IVIEW.transfer}},className:{type:String},inner:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},beforeClose:Function},data(){return{prefixCls:m,visible:this.value,wrapShow:!1,showHead:!0,canMove:!1,dragWidth:this.width,dragHeight:this.height,wrapperWidth:this.width,wrapperHeight:this.height,wrapperLeft:0,minWidth:256,minHeight:256}},computed:{wrapClasses(){return[m+"-wrap",{[m+"-hidden"]:!this.wrapShow,[""+this.className]:!!this.className,[m+"-no-mask"]:!this.mask,[m+"-wrap-inner"]:this.inner,[m+"-wrap-dragging"]:this.canMove}]},mainStyles(){let t={};if("left"===this.placement||"right"===this.placement){const e=parseInt(this.dragWidth),a={width:e<=100?e+"%":e+"px"};Object.assign(t,a)}else{const e=parseInt(this.dragHeight),a={height:e<=100?e+"%":e+"px"};Object.assign(t,a)}return t},contentClasses(){return[m+"-content",{[m+"-content-no-mask"]:!this.mask}]},classes(){return[""+m,`${m}-${this.placement}`,{[m+"-no-header"]:!this.showHead,[m+"-inner"]:this.inner}]},maskClasses(){return[m+"-mask",{[m+"-mask-inner"]:this.inner}]},transitionName(){return"left"===this.placement||"right"===this.placement?"move-"+this.placement:"top"===this.placement?"move-up":"move-down"}},methods:{close(){if(!this.beforeClose)return this.handleClose();const t=this.beforeClose();t&&t.then?t.then(()=>{this.handleClose()}):this.handleClose()},handleClose(){this.visible=!1,this.$emit("input",!1),this.$emit("on-close")},handleMask(){this.maskClosable&&this.mask&&this.close()},handleWrapClick(t){const e=t.target.getAttribute("class");e&&e.indexOf(m+"-wrap")>-1&&this.handleMask()},handleMousemove(t){if(!this.canMove||!this.draggable)return;this.handleSetWrapperWidth();const e=t.pageX-this.wrapperLeft;let a="right"===this.placement?this.wrapperWidth-e:e;a=Math.max(a,parseFloat(this.minWidth)),t.atMin=a===parseFloat(this.minWidth),a<=100&&(a=a/this.wrapperWidth*100),this.dragWidth=a,this.$emit("on-resize-width",parseInt(this.dragWidth))},handleSetWrapperWidth(){const{width:t,left:e}=this.$el.getBoundingClientRect();this.wrapperWidth=t,this.wrapperLeft=e},handleMouseup(){this.draggable&&(this.canMove=!1)},handleTriggerMousedown(){this.canMove=!0,window.getSelection().removeAllRanges()}},mounted(){this.visible&&(this.wrapShow=!0);let t=!0;void 0!==this.$slots.header||this.title||(t=!1),this.showHead=t,Object(c["b"])(document,"mousemove",this.handleMousemove),Object(c["b"])(document,"mouseup",this.handleMouseup),this.handleSetWrapperWidth()},beforeDestroy(){Object(c["a"])(document,"mousemove",this.handleMousemove),Object(c["a"])(document,"mouseup",this.handleMouseup),this.removeScrollEffect()},watch:{value(t){this.visible=t},visible(t){!1===t?this.timer=setTimeout(()=>{this.wrapShow=!1;const t=Object(o["d"])(this,"Drawer")||[],e=Object(o["g"])(this,"Drawer")||[],a=[].concat(t).concat(e),i=a.some(t=>t.visible&&!t.scrollable);i||this.removeScrollEffect()},300):(this.timer&&clearTimeout(this.timer),this.wrapShow=!0,this.scrollable||this.addScrollEffect()),this.broadcast("Table","on-visible-change",t),this.broadcast("Slider","on-visible-change",t),this.$emit("on-visible-change",t)},scrollable(t){t?this.removeScrollEffect():this.addScrollEffect()},title(t){void 0===this.$slots.header&&(this.showHead=!!t)},width(t){this.dragWidth=t},height(t){this.dragHeight=t}}},u=h,p=a("cba8"),Z=Object(p["a"])(u,i,s,!1,null,null,null),w=Z.exports;e["a"]=w},a1e0:function(t,e,a){t.exports=a.p+"img/ff2.55e11a4c.png"},a1f3:function(t,e,a){},a470:function(t,e,a){"use strict";a("68ae")},b7d9:function(t,e,a){},d3d8:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"preview-box"},[i("div",{staticClass:"para-box"}),i("div",{staticClass:"content"},t._l(t.paraList,(function(e,s){return i("div",{key:s},[e.title?i("div",{staticClass:"title"},[i("img",{attrs:{src:a("9207")}}),t._v(" "+t._s(e.title)+"\n          "),i("img",{attrs:{src:a("5712")}})]):t._e(),i("Icon",{staticStyle:{color:"#0094ff",cursor:"pointer"},attrs:{type:"md-add"},on:{click:function(a){return t.addTitleClick(e)}}}),t._l(e.juzi,(function(e,a){return i("div",{key:a,staticClass:"para",on:{touchstart:function(a){return t.getTouchStart(e)},touchend:t.getTouchEnd}},t._l(e.sence,(function(e,a){return i("span",{key:a,class:e.tid?"wordhavamean":"word",on:{click:function(a){return t.danciClick(e)}}},[t._v("\n            "+t._s(e.w)+"\n          ")])})),0)})),i("span",{on:{click:function(a){return t.paraClick(e)}}},[t._v("整段翻译")])],2)})),0),0==t.paraList.length?i("p",{staticStyle:{"text-align":"center","margin-top":"10px"}},[t._v(" 暂无内容 ")]):t._e(),i("Drawer",{attrs:{closable:!1,placement:"bottom"},model:{value:t.drawerShow,callback:function(e){t.drawerShow=e},expression:"drawerShow"}},[i("Input",{staticClass:"word-title",model:{value:t.word.w,callback:function(e){t.$set(t.word,"w",e)},expression:"word.w"}}),i("Input",{staticClass:"word-mean",attrs:{type:"textarea",placeholder:"翻译"},model:{value:t.wordMean.mean,callback:function(e){t.$set(t.wordMean,"mean",e)},expression:"wordMean.mean"}}),i("Button",{staticStyle:{"margin-top":"5px"},attrs:{type:"primary"},on:{click:t.saveTranslateClick}},[t._v("保存")])],1),i("Drawer",{attrs:{closable:!1,placement:"bottom"},model:{value:t.senseDrawerShow,callback:function(e){t.senseDrawerShow=e},expression:"senseDrawerShow"}},[t._l(t.longClicksence.sence,(function(e,a){return i("span",{key:a},[t._v(" "+t._s(e.w)+" ")])})),i("Input",{staticClass:"word-mean",attrs:{type:"textarea",placeholder:"翻译"},model:{value:t.longClicksence.mean,callback:function(e){t.$set(t.longClicksence,"mean",e)},expression:"longClicksence.mean"}}),i("Button",{staticStyle:{"margin-top":"5px"},attrs:{type:"primary"},on:{click:t.saveSenseTranslateClick}},[t._v("保存")])],2),i("Drawer",{attrs:{closable:!1,placement:"bottom"},model:{value:t.paraDrawerShow,callback:function(e){t.paraDrawerShow=e},expression:"paraDrawerShow"}},[i("Input",{staticClass:"word-mean",attrs:{type:"textarea",placeholder:"翻译"},model:{value:t.paraClickObj.mean,callback:function(e){t.$set(t.paraClickObj,"mean",e)},expression:"paraClickObj.mean"}}),i("Button",{staticStyle:{"margin-top":"5px"},attrs:{type:"primary"},on:{click:t.saveParaTranslateClick}},[t._v("保存")])],1),i("Drawer",{attrs:{closable:!1,placement:"bottom"},model:{value:t.titleDrawerShow,callback:function(e){t.titleDrawerShow=e},expression:"titleDrawerShow"}},[i("Input",{staticClass:"word-mean",attrs:{type:"textarea",placeholder:"标题"},model:{value:t.titleObj.title,callback:function(e){t.$set(t.titleObj,"title",e)},expression:"titleObj.title"}}),i("Button",{staticStyle:{"margin-top":"5px"},attrs:{type:"primary"},on:{click:t.saveParaTranslateClick}},[t._v("保存")])],1)],1)},s=[],n=a("8c99"),o=a("4b1c"),r=a("88bd"),l=a("e7c9"),d=a("9d21"),c={components:{Drawer:d["a"],Input:l["a"],Button:r["a"],Icon:o["a"]},data:function(){return{titleDrawerShow:!1,titleObj:{},paraDrawerShow:!1,paraClickObj:{},senseDrawerShow:!1,longClicksence:{},menuid:"",word:{},wordMean:{},wordMeanList:{},drawerShow:!1,paraList:[],para:[[[{w:"This",tid:"1"},{w:"is",tid:"1"},{w:"one",tid:"1"},{w:"juzi",tid:"1"}],[{w:"This",tid:"1"},{w:"is",tid:"1"},{w:"two",tid:"1"},{w:"juzi",tid:"1"}],[{w:"This",tid:"1"},{w:"is",tid:"1"},{w:"three",tid:"1"},{w:"juzi",tid:"1"}]],[],[]],wordList:[[{w:"Today",tid:"1"},{w:"is",tid:"1"},{w:"World",tid:"1"},{w:"Tourism",tid:"1"},{w:"Day",tid:"1"},{w:"."}],[{w:"Travel",tid:"2"},{w:"has"},{w:"been"},{w:"said"},{w:"to"},{w:"broaden"},{w:"the"},{w:"mind"},{w:"\n"},{w:"e"},{w:"the"},{w:"world"},{w:"and"}]],resoucesName:""}},methods:{addTitleClick:function(t){this.titleDrawerShow=!0,this.titleObj=t},saveParaTranslateClick:function(){this.httpPost("updateWordMean",{menuid:this.menuid,para:JSON.stringify(this.paraList),word:JSON.stringify(this.wordMeanList)},(function(t){t=t.data,"success"==t.msg&&n["a"].success("保存成功")}))},saveSenseTranslateClick:function(){console.log(this.longClicksence),this.httpPost("updateWordMean",{menuid:this.menuid,para:JSON.stringify(this.paraList),word:JSON.stringify(this.wordMeanList)},(function(t){t=t.data,"success"==t.msg&&n["a"].success("保存成功")}))},saveTranslateClick:function(){if(this.wordMean.word=this.word.w,console.log("this.wordMeanList[this.word.tid]",this.wordMeanList[this.word.tid]),"undefined"==typeof this.wordMeanList[this.word.tid]){console.log("之前没有翻译");var t=this.menuid+Math.round(new Date);console.log(" tid",t),this.word.tid=t,this.wordMeanList[t]={word:this.word.w,mean:this.wordMean.mean}}else console.log("之前有翻译");this.httpPost("updateWordMean",{menuid:this.menuid,para:JSON.stringify(this.paraList),word:JSON.stringify(this.wordMeanList)},(function(t){t=t.data,"success"==t.msg&&n["a"].success("保存成功")}))},paraClick:function(t){console.log(t),this.paraDrawerShow=!0,this.paraClickObj=t},danciClick:function(t){this.drawerShow=!0,this.word=t,this.wordMeanList[this.word.tid]?this.wordMean=this.wordMeanList[this.word.tid]:this.wordMean={}},getTouchStart:function(t){var e=this;clearTimeout(this.sufu),this.sufu=setTimeout((function(){e.senseDrawerShow=!0,e.longClicksence=t}),500)},getTouchEnd:function(){clearTimeout(this.sufu)},select:function(t){console.log(t)},getData:function(){var t=this;this.httpPost("webGetBookContent",{menuid:this.menuid},(function(e){e=e.data,e.para&&(t.paraList=JSON.parse(e.para),t.wordMeanList=JSON.parse(e.word))}))}},created:function(){this.resoucesName=this.$route.resoucesName,this.menuid=this.$route.query.menuid,this.getData()}},m=c,h=(a("a470"),a("cba8")),u=Object(h["a"])(m,i,s,!1,null,null,null);e["default"]=u.exports},e197:function(t,e,a){t.exports=a.p+"img/ff1.f5f238b3.png"},e7c9:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.wrapClasses},["textarea"!==t.type?[t.prepend?a("div",{directives:[{name:"show",rawName:"v-show",value:t.slotReady,expression:"slotReady"}],class:[t.prefixCls+"-group-prepend"]},[t._t("prepend")],2):t._e(),t.clearable&&t.currentValue&&!t.itemDisabled?a("i",{staticClass:"ivu-icon",class:["ivu-icon-ios-close-circle",t.prefixCls+"-icon",t.prefixCls+"-icon-clear",t.prefixCls+"-icon-normal"],style:t.clearableStyles,on:{click:t.handleClear}}):t.icon?a("i",{staticClass:"ivu-icon",class:["ivu-icon-"+t.icon,t.prefixCls+"-icon",t.prefixCls+"-icon-normal"],on:{click:t.handleIconClick}}):t.search&&!1===t.enterButton?a("i",{staticClass:"ivu-icon ivu-icon-ios-search",class:[t.prefixCls+"-icon",t.prefixCls+"-icon-normal",t.prefixCls+"-search-icon"],on:{click:t.handleSearch}}):t.showSuffix?a("span",{staticClass:"ivu-input-suffix"},[t._t("suffix",(function(){return[t.suffix?a("i",{staticClass:"ivu-icon",class:["ivu-icon-"+t.suffix]}):t._e()]}))],2):t.showWordLimit?a("span",{staticClass:"ivu-input-word-count"},[t._v(t._s(t.textLength)+"/"+t._s(t.upperLimit))]):t.password?a("span",{staticClass:"ivu-input-suffix",on:{click:t.handleToggleShowPassword}},[t.showPassword?a("i",{staticClass:"ivu-icon ivu-icon-ios-eye-outline"}):a("i",{staticClass:"ivu-icon ivu-icon-ios-eye-off-outline"})]):t._e(),a("transition",{attrs:{name:"fade"}},[t.icon?t._e():a("i",{staticClass:"ivu-icon ivu-icon-ios-loading ivu-load-loop",class:[t.prefixCls+"-icon",t.prefixCls+"-icon-validate"]})]),a("input",{ref:"input",class:t.inputClasses,attrs:{id:t.elementId,autocomplete:t.autocomplete,spellcheck:t.spellcheck,type:t.currentType,placeholder:t.placeholder,disabled:t.itemDisabled,maxlength:t.maxlength,readonly:t.readonly,name:t.name,number:t.number,autofocus:t.autofocus},domProps:{value:t.currentValue},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnter.apply(null,arguments)},t.handleKeyup],keypress:t.handleKeypress,keydown:t.handleKeydown,focus:t.handleFocus,blur:t.handleBlur,compositionstart:t.handleComposition,compositionupdate:t.handleComposition,compositionend:t.handleComposition,input:t.handleInput,change:t.handleChange}}),t.append?a("div",{directives:[{name:"show",rawName:"v-show",value:t.slotReady,expression:"slotReady"}],class:[t.prefixCls+"-group-append"]},[t._t("append")],2):t.search&&t.enterButton?a("div",{class:[t.prefixCls+"-group-append",t.prefixCls+"-search"],on:{click:t.handleSearch}},[!0===t.enterButton?a("i",{staticClass:"ivu-icon ivu-icon-ios-search"}):[t._v(t._s(t.enterButton))]],2):t.showPrefix?a("span",{staticClass:"ivu-input-prefix"},[t._t("prefix",(function(){return[t.prefix?a("i",{staticClass:"ivu-icon",class:["ivu-icon-"+t.prefix]}):t._e()]}))],2):t._e()]:[a("textarea",{ref:"textarea",class:t.textareaClasses,style:t.textareaStyles,attrs:{id:t.elementId,wrap:t.wrap,autocomplete:t.autocomplete,spellcheck:t.spellcheck,placeholder:t.placeholder,disabled:t.itemDisabled,rows:t.rows,maxlength:t.maxlength,readonly:t.readonly,name:t.name,autofocus:t.autofocus},domProps:{value:t.currentValue},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnter.apply(null,arguments)},t.handleKeyup],keypress:t.handleKeypress,keydown:t.handleKeydown,focus:t.handleFocus,blur:t.handleBlur,compositionstart:t.handleComposition,compositionupdate:t.handleComposition,compositionend:t.handleComposition,input:t.handleInput}}),t.showWordLimit?a("span",{staticClass:"ivu-input-word-count"},[t._v(t._s(t.textLength)+"/"+t._s(t.upperLimit))]):t._e()]],2)},s=[],n=a("e4a4");const o="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",r=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];let l,d={};function c(t,e=!1){const a=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(e&&d[a])return d[a];const i=window.getComputedStyle(t),s=i.getPropertyValue("box-sizing")||i.getPropertyValue("-moz-box-sizing")||i.getPropertyValue("-webkit-box-sizing"),n=parseFloat(i.getPropertyValue("padding-bottom"))+parseFloat(i.getPropertyValue("padding-top")),o=parseFloat(i.getPropertyValue("border-bottom-width"))+parseFloat(i.getPropertyValue("border-top-width")),l=r.map(t=>`${t}:${i.getPropertyValue(t)}`).join(";"),c={sizingStyle:l,paddingSize:n,borderSize:o,boxSizing:s};return e&&a&&(d[a]=c),c}function m(t,e=null,a=null,i=!1){l||(l=document.createElement("textarea"),document.body.appendChild(l)),t.getAttribute("wrap")?l.setAttribute("wrap",t.getAttribute("wrap")):l.removeAttribute("wrap");let{paddingSize:s,borderSize:n,boxSizing:r,sizingStyle:d}=c(t,i);l.setAttribute("style",`${d};${o}`),l.value=t.value||t.placeholder||"";let m,h=Number.MIN_SAFE_INTEGER,u=Number.MAX_SAFE_INTEGER,p=l.scrollHeight;if("border-box"===r?p+=n:"content-box"===r&&(p-=s),null!==e||null!==a){l.value=" ";let t=l.scrollHeight-s;null!==e&&(h=t*e,"border-box"===r&&(h=h+s+n),p=Math.max(h,p)),null!==a&&(u=t*a,"border-box"===r&&(u=u+s+n),m=p>u?"":"hidden",p=Math.min(u,p))}return a||(m="hidden"),{height:p+"px",minHeight:h+"px",maxHeight:u+"px",overflowY:m}}var h=a("ce17"),u=a("bc46");const p="ivu-input";var Z={name:"Input",mixins:[h["a"],u["a"]],props:{type:{validator(t){return Object(n["j"])(t,["text","textarea","password","url","email","date","number","tel"])},default:"text"},value:{type:[String,Number],default:""},size:{validator(t){return Object(n["j"])(t,["small","large","default"])},default(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},placeholder:{type:String,default:""},maxlength:{type:[String,Number]},disabled:{type:Boolean,default:!1},icon:String,autosize:{type:[Boolean,Object],default:!1},rows:{type:Number,default:2},readonly:{type:Boolean,default:!1},name:{type:String},number:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},spellcheck:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},clearable:{type:Boolean,default:!1},elementId:{type:String},wrap:{validator(t){return Object(n["j"])(t,["hard","soft"])},default:"soft"},prefix:{type:String,default:""},suffix:{type:String,default:""},search:{type:Boolean,default:!1},enterButton:{type:[Boolean,String],default:!1},showWordLimit:{type:Boolean,default:!1},password:{type:Boolean,default:!1},border:{type:Boolean,default:!0}},data(){return{currentValue:this.value,prefixCls:p,slotReady:!1,textareaStyles:{},isOnComposition:!1,showPassword:!1,clearableIconOffset:0}},computed:{currentType(){let t=this.type;return"password"===t&&this.password&&this.showPassword&&(t="text"),t},prepend(){let t=!1;return"textarea"!==this.type&&(t=void 0!==this.$slots.prepend),t},append(){let t=!1;return"textarea"!==this.type&&(t=void 0!==this.$slots.append),t},showPrefix(){let t=!1;return"textarea"!==this.type&&(t=""!==this.prefix||void 0!==this.$slots.prefix),t},showSuffix(){let t=!1;return"textarea"!==this.type&&(t=""!==this.suffix||void 0!==this.$slots.suffix),t},wrapClasses(){return[p+"-wrapper",{[`${p}-wrapper-${this.size}`]:!!this.size,[`${p}-type-${this.type}`]:this.type,[p+"-group"]:this.prepend||this.append||this.search&&this.enterButton,[`${p}-group-${this.size}`]:(this.prepend||this.append||this.search&&this.enterButton)&&!!this.size,[p+"-group-with-prepend"]:this.prepend,[p+"-group-with-append"]:this.append||this.search&&this.enterButton,[p+"-hide-icon"]:this.append,[p+"-with-search"]:this.search&&this.enterButton,[p+"-wrapper-disabled"]:this.itemDisabled}]},inputClasses(){return[""+p,{[`${p}-${this.size}`]:!!this.size,[p+"-disabled"]:this.itemDisabled,[p+"-no-border"]:!this.border,[p+"-with-prefix"]:this.showPrefix,[p+"-with-suffix"]:this.showSuffix||this.search&&!1===this.enterButton}]},textareaClasses(){return[""+p,{[p+"-disabled"]:this.itemDisabled,[p+"-no-border"]:!this.border}]},upperLimit(){return this.maxlength},textLength(){return"number"===typeof this.value?String(this.value).length:(this.value||"").length},clearableStyles(){const t={};let e=this.clearableIconOffset;return e&&(t.transform=`translateX(-${e}px)`),t}},methods:{handleEnter(t){this.$emit("on-enter",t),this.search&&this.$emit("on-search",this.currentValue)},handleKeydown(t){this.$emit("on-keydown",t)},handleKeypress(t){this.$emit("on-keypress",t)},handleKeyup(t){this.$emit("on-keyup",t)},handleIconClick(t){this.$emit("on-click",t)},handleFocus(t){this.$emit("on-focus",t)},handleBlur(t){this.$emit("on-blur",t),Object(n["e"])(this,["DatePicker","TimePicker","Cascader","Search"])||this.dispatch("FormItem","on-form-blur",this.currentValue)},handleComposition(t){"compositionstart"===t.type&&(this.isOnComposition=!0),"compositionend"===t.type&&(this.isOnComposition=!1,this.handleInput(t))},handleInput(t){if(this.isOnComposition)return;let e=t.target.value;this.number&&""!==e&&(e=Number.isNaN(Number(e))?e:Number(e)),this.$emit("input",e),this.setCurrentValue(e),this.$emit("on-change",t)},handleChange(t){this.$emit("on-input-change",t)},setCurrentValue(t){t!==this.currentValue&&(this.$nextTick(()=>{this.resizeTextarea()}),this.currentValue=t,Object(n["e"])(this,["DatePicker","TimePicker","Cascader","Search"])||this.dispatch("FormItem","on-form-change",t))},resizeTextarea(){const t=this.autosize;if(!t||"textarea"!==this.type)return!1;const e=t.minRows,a=t.maxRows;this.textareaStyles=m(this.$refs.textarea,e,a)},focus(t){const e="textarea"===this.type?this.$refs.textarea:this.$refs.input;e.focus(t);const{cursor:a}=t||{};if(a){const t=e.value.length;switch(a){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(t,t);break;default:e.setSelectionRange(0,t)}}},blur(){"textarea"===this.type?this.$refs.textarea.blur():this.$refs.input.blur()},handleClear(){const t={target:{value:""}};this.$emit("input",""),this.setCurrentValue(""),this.$emit("on-change",t),this.$emit("on-clear")},handleSearch(){if(this.itemDisabled)return!1;this.$refs.input.focus(),this.$emit("on-search",this.currentValue)},handleToggleShowPassword(){if(this.itemDisabled)return!1;this.showPassword=!this.showPassword,this.focus();const t=this.currentValue.length;setTimeout(()=>{this.$refs.input.setSelectionRange(t,t)},0)},handleCalcIconOffset(){const t=this.$el.querySelectorAll(".ivu-input-group-append")[0];this.clearableIconOffset=t?t.offsetWidth:0}},watch:{value(t){this.setCurrentValue(t)},type(){this.$nextTick(this.handleCalcIconOffset)}},mounted(){this.slotReady=!0,this.resizeTextarea(),this.handleCalcIconOffset()},updated(){this.$nextTick(this.handleCalcIconOffset)}},w=Z,f=a("cba8"),b=Object(f["a"])(w,i,s,!1,null,null,null),g=b.exports;e["a"]=g}}]);